{% extends "layout.html.twig" %}

{% block title %}{{ article.title }}{% endblock %}

{% block content %}
<div class="container article">

    <h2>{{ article.title }}</h2>
    <p>{{ article.content |raw }}</p>

    <h3>Commentaires</h3>

    {% for flashMessage in app.session.flashbag.get('success') %}
            <div class="alert alert-success alert-dismissible" role="alert">
                 <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                {{ flashMessage }}
            </div>
    {% endfor %}
    
    {% for comment in comments %}

        {% include'comments.html.twig'with{'comment': comment} %}

    {% else %}
        Aucun commentaire.
    {% endfor %}
</div>
<div class="container">
    <form id="form-Comment" method="post" action="">
    <h3>Ajouter un commentaire</h3>
            <div class="form-group">
                <input type="hidden" name="parent_id" id="parent_id" value="0">
                <textarea class="form-control" name="commentContent" placeholder= "Votre commentaire" required="true"></textarea>
            </div>
            <div class="form-group">
                <input type="submit" class="btn btn-custom" value="publier" />

            </div>
    </form>
</div>
</div>





{% endblock %}